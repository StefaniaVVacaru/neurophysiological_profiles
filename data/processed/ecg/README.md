# Processed ECG

Subject-level ECG derivatives such as cleaned traces, window summaries, or QA exports generated by the NeuroKit pipeline. Files here are expected to be ready for review or aggregation.

## File Schemas

Each subject directory contains the following analytics artifacts:

### `preprocessed_ecg.csv`

Tabular export of the cleaned ECG segment that feeds HRV/RSA metrics.

| Column | Type | Description |
| --- | --- | --- |
| *(unnamed index)* | int | Zero-based sample index within the segment. |
| `MWMOBILEJ_Bio` | float | Raw biosignal samples (as ingested from Mindware). |
| `MWMOBILEJ_GSC` | float | Raw GSC samples retained for reference when recorded. |
| `source_file_signal` | string | Originating Mindware signal filename. |
| `Event Type` | string | Event category at the sample (may be blank between markers). |
| `event_name` | string | Segmentation label assigned to the sample. |
| `source_file_event` | string | Mindware event log filename used during joins. |
| `on_offset` | string | Event boundary flag (`onset`/`offset`). |
| `subject_id` | string | Participant identifier. |
| `ECG_Clean` | float | Filtered ECG signal (NeuroKit-cleaned). |
| `ECG_Raw` | float | Raw ECG signal copy for QA comparisons. |
| `ECG_R_Peaks` | int | Binary indicator (1 at detected R-peaks). |
| `segment_name` | string | Segment label propagated during processing. |

### `hrv_metrics.xlsx`

Windowed HRV metrics exported by `compute_windowed_hrv_across_segments`.

| Column | Type | Description |
| --- | --- | --- |
| `HRV_*` | float | Standard HRV indices (mean NN, RMSSD, pNN50, etc.). |
| `start_time` / `end_time` | int | Sample indices delimiting the analysis window. |
| `analysis_window` | int | Sequential window counter (0-based). |
| `heart_rate_bpm` | float | Average heart rate in beats per minute for the window. |
| `n_peaks_detected` | int | Count of R-peaks in the window. |
| `segment_name` | string | Segment associated with the window. |
| `subject_id` | string | Participant identifier. |

### `rsa_metrics.xlsx`

Segment-level respiratory sinus arrhythmia metrics.

| Column | Type | Description |
| --- | --- | --- |
| `RSA_*` | float | RSA indices produced by `calculate_RSA_metrics`. |
| `segment_name` | string | Segment label for the aggregated metrics. |
| `start_time` / `end_time` | int | Sample indices marking segment bounds. |
| `subject_id` | string | Participant identifier. |
